<!DOCTYPE html>
<html lang="ko">
  <head>
    <title>이벤트루프</title>
    <script>
      function onClickLoop() {
        console.log("=======시작!!!!=======");

        function aaa() {
          console.log("aaa-시작");
          bbb();
          console.log("aaa-끝");
        }
        //
        //
        // 코드를 읽어내려가는 과정에서 await을 만나면 해당 await을 감싸는 async 함수는 그대로 Micro 큐로 들어감
        // 따라서 모든 함수가 종료된 이후 (콜스택에서 빠져나간 후) console.log(friend)가 출력됨
        async function bbb() {
          console.log("bbb-시작");
          const friend = await "철수";
          console.log(friend);
        }

        aaa();

        console.log("=======끝!!!!=======");
      }
    </script>
  </head>
  <body>
    <button onclick="onClickLoop()">시작하기</button>
  </body>
</html>
